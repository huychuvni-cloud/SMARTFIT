<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Phân tích SMARTFIT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; /* Tailwind's gray-100 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #d1d5db; /* Tailwind's gray-400 */
            border-radius: 10px;
            border: 2px solid #f1f5f9;
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: #9ca3af; /* Tailwind's gray-500 */
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center p-4">

    <div id="app-container" class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8 space-y-8 border border-gray-200 opacity-0 transition-opacity duration-500">
        <!-- Application Title -->
        <div class="text-center">
            <h1 class="text-4xl font-bold text-gray-900 tracking-tight">
                Bảng Phân tích SMARTFIT
            </h1>
            <p class="mt-2 text-md text-gray-600">
                Ứng dụng tính toán và thống kê chỉ số cơ thể
            </p>
        </div>
        
        <!-- Form for data input -->
        <form id="metricsForm" class="space-y-6">
            <!-- Mentee & Mentor -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <div>
                    <label for="menteeName" class="block text-sm font-medium text-gray-700 mb-1">
                        Tên Mentee
                    </label>
                    <input
                        id="menteeName"
                        type="text"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all shadow-sm"
                        placeholder="Nhập tên Mentee"
                    />
                </div>
                <div>
                    <label for="mentorName" class="block text-sm font-medium text-gray-700 mb-1">
                        Tên Mentor
                    </label>
                    <input
                        id="mentorName"
                        type="text"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all shadow-sm"
                        placeholder="Nhập tên Mentor"
                    />
                </div>
            </div>

            <!-- Row 1: Age, Height, Weight -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                <div>
                    <label for="age" class="block text-sm font-medium text-gray-700 mb-1">Tuổi</label>
                    <input id="age" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Tuổi" />
                </div>
                <div>
                    <label for="height" class="block text-sm font-medium text-gray-700 mb-1">Chiều cao (cm)</label>
                    <input id="height" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Chiều cao" required />
                </div>
                <div>
                    <label for="weight" class="block text-sm font-medium text-gray-700 mb-1">Cân nặng (kg)</label>
                    <input id="weight" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Cân nặng" required />
                </div>
            </div>
            
            <!-- Row 2: Fat %, Fat Mass, Visceral Fat -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                <div>
                    <label for="fatPercentage" class="block text-sm font-medium text-gray-700 mb-1">Tỉ lệ mỡ (%)</label>
                    <input id="fatPercentage" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Tỉ lệ mỡ" />
                </div>
                <div>
                    <label for="fatMass" class="block text-sm font-medium text-gray-700 mb-1">Khối lượng mỡ (kg)</label>
                    <input id="fatMass" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Khối lượng mỡ" />
                </div>
                <div>
                    <label for="visceralFat" class="block text-sm font-medium text-gray-700 mb-1">Mỡ nội tạng (%)</label>
                    <input id="visceralFat" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Mỡ nội tạng" />
                </div>
            </div>

            <!-- Row 3: Muscle %, Body Age, BMR, BMI -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
                <div>
                    <label for="musclePercentage" class="block text-sm font-medium text-gray-700 mb-1">Tỉ lệ cơ (%)</label>
                    <input id="musclePercentage" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Tỉ lệ cơ" />
                </div>
                <div>
                    <label for="bodyAge" class="block text-sm font-medium text-gray-700 mb-1">Tuổi sinh học</label>
                    <input id="bodyAge" type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm" placeholder="Tuổi sinh học" />
                </div>
                <div>
                    <label for="bmrInput" class="block text-sm font-medium text-gray-700 mb-1">
                        BMR (kcal/ngày)
                    </label>
                    <input
                        id="bmrInput"
                        type="number"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm"
                        placeholder="Nhập BMR"
                    />
                </div>
                <div>
                    <label for="bmiInput" class="block text-sm font-medium text-gray-700 mb-1">
                        BMI
                    </label>
                    <input
                        id="bmiInput"
                        type="number"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm"
                        placeholder="Nhập BMI"
                    />
                </div>
            </div>
            
            <!-- Gender -->
            <div>
                <label for="gender" class="block text-sm font-medium text-gray-700 mb-1">Giới tính</label>
                <select id="gender" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm">
                    <option value="male">Nam</option>
                    <option value="female">Nữ</option>
                </select>
            </div>

            <!-- Submit button -->
            <button
                type="submit"
                class="w-full py-3 px-6 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all transform hover:scale-105"
            >
                Xem kết quả
            </button>
        </form>

        <!-- Results section (initially hidden) -->
        <div id="results-container" class="mt-8 hidden">
            <div class="border border-gray-300 rounded-lg p-6 shadow-md bg-gray-50 space-y-4">
                <h2 class="text-2xl font-bold text-center text-gray-900 mb-4">
                    Kết quả Phân tích
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex justify-between items-center bg-white p-4 rounded-md shadow-sm">
                        <span class="font-semibold text-gray-700">Tên Mentee:</span>
                        <span id="menteeResult" class="text-lg font-medium text-gray-900"></span>
                    </div>
                    <div class="flex justify-between items-center bg-white p-4 rounded-md shadow-sm">
                        <span class="font-semibold text-gray-700">Tên Mentor:</span>
                        <span id="mentorResult" class="text-lg font-medium text-gray-900"></span>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h3 class="text-xl font-bold text-gray-900 mb-3 text-center">Các Chỉ số Chuẩn</h3>
                    <div class="overflow-x-auto rounded-lg">
                        <table class="min-w-full bg-white shadow-sm border border-gray-200">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="py-2 px-4 text-left text-sm font-semibold text-gray-600">Chỉ số</th>
                                    <th class="py-2 px-4 text-center text-sm font-semibold text-gray-600">Nam</th>
                                    <th class="py-2 px-4 text-center text-sm font-semibold text-gray-600">Nữ Trẻ</th>
                                    <th class="py-2 px-4 text-center text-sm font-semibold text-gray-600">Nữ Lớn tuổi</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr class="hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 text-sm text-gray-700 font-medium">BMI</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">22</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">20</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">22</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 text-sm text-gray-700 font-medium">Tỉ lệ Mỡ (%)</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">17</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">22</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">24</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 text-sm text-gray-700 font-medium">Mỡ Nội tạng (%)</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">6</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">4</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">6</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition-colors">
                                    <td class="py-3 px-4 text-sm text-gray-700 font-medium">Tỉ lệ Cơ (%)</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">37</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">28</td>
                                    <td class="py-3 px-4 text-center text-sm text-purple-600 font-bold">28</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Display the calculated metrics with target comparison -->
                <div class="mt-6 space-y-4">
                    <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                        <div class="text-sm text-gray-500 sm:w-1/3">Cân nặng hiện tại</div>
                        <div id="weightResult" class="text-2xl font-bold text-purple-600 mt-1 sm:mt-0 sm:w-1/3 text-center">N/A</div>
                        <div id="weightChangeResult" class="text-sm mt-1 sm:mt-0 sm:w-1/3 text-right">N/A</div>
                    </div>

                    <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                        <div class="text-sm text-gray-500 sm:w-1/3">BMI</div>
                        <div id="bmiResult" class="text-2xl font-bold text-purple-600 mt-1 sm:mt-0 sm:w-1/3 text-center">N/A</div>
                        <div id="bmiDiffResult" class="text-sm mt-1 sm:mt-0 sm:w-1/3 text-right">N/A</div>
                    </div>

                    <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                        <div class="text-sm text-gray-500 sm:w-1/3">Tỉ lệ mỡ (%)</div>
                        <div id="fatPercentageResult" class="text-2xl font-bold text-purple-600 mt-1 sm:mt-0 sm:w-1/3 text-center">N/A</div>
                        <div id="fatDiffResult" class="text-sm mt-1 sm:mt-0 sm:w-1/3 text-right">N/A</div>
                    </div>

                    <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                        <div class="text-sm text-gray-500 sm:w-1/3">Mỡ nội tạng</div>
                        <div id="visceralFatResult" class="text-2xl font-bold text-purple-600 mt-1 sm:mt-0 sm:w-1/3 text-center">N/A</div>
                        <div id="visceralFatDiffResult" class="text-sm mt-1 sm:mt-0 sm:w-1/3 text-right">N/A</div>
                    </div>

                    <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                        <div class="text-sm text-gray-500 sm:w-1/3">Tỉ lệ cơ (%)</div>
                        <div id="musclePercentageResult" class="text-2xl font-bold text-purple-600 mt-1 sm:mt-0 sm:w-1/3 text-center">N/A</div>
                        <div id="muscleDiffResult" class="text-sm mt-1 sm:mt-0 sm:w-1/3 text-right">N/A</div>
                    </div>

                    <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                        <div class="text-sm text-gray-500 sm:w-1/3">Tuổi sinh học</div>
                        <div id="bodyAgeResult" class="text-2xl font-bold text-purple-600 mt-1 sm:mt-0 sm:w-1/3 text-center">N/A</div>
                        <div id="bodyAgeDiffResult" class="text-sm mt-1 sm:mt-0 sm:w-1/3 text-right">N/A</div>
                    </div>
                </div>
                
                <!-- Nutrition Plan -->
                <div class="mt-8 pt-4 border-t border-gray-200 space-y-4">
                    <h3 class="text-xl font-bold text-gray-900 mb-3 text-center">Kế hoạch Dinh dưỡng</h3>
                    <p class="text-sm text-gray-500 text-center mb-4">
                        (Dựa trên BMR và Cân nặng bạn đã nhập)
                    </p>
                    <div id="nutritionPlans" class="space-y-4">
                        <!-- Content will be injected by JavaScript -->
                    </div>
                    <div id="proteinPlans" class="space-y-4">
                        <!-- Content will be injected by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('metricsForm');
            const resultsContainer = document.getElementById('results-container');
            const appContainer = document.getElementById('app-container');

            // Fade in the container on page load for a nice effect
            appContainer.style.opacity = '1';

            // Define standard body metrics
            const standardMetrics = {
                male: { bmi: 22, fat: 17, visceralFat: 6, muscle: 37 },
                femaleYoung: { bmi: 20, fat: 22, visceralFat: 4, muscle: 28 },
                femaleOld: { bmi: 22, fat: 24, visceralFat: 6, muscle: 28 }
            };

            // SVG for up arrow icon
            const upArrowIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block ml-1 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18" /></svg>`;
            // SVG for down arrow icon
            const downArrowIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block ml-1 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 14l-7 7m0 0l-7-7m7 7V3" /></svg>`;

            // Function to format the difference text and icon
            function formatDiff(diff, unit, inverse = false) {
                if (diff === null || isNaN(diff)) return 'N/A';
                const absDiff = Math.abs(diff);

                if (diff === 0) {
                    return `<span class="text-gray-500">Đạt chuẩn</span>`;
                }

                if (inverse) {
                    if (diff > 0) {
                        return `<span class="font-semibold flex items-center justify-end">Cần tăng ${absDiff.toFixed(1)} ${unit}${upArrowIcon}</span>`;
                    } else {
                        return `<span class="font-semibold flex items-center justify-end">Đã tăng ${absDiff.toFixed(1)} ${unit}${downArrowIcon}</span>`;
                    }
                } else {
                    if (diff > 0) {
                        return `<span class="font-semibold flex items-center justify-end">Cần giảm ${absDiff.toFixed(1)} ${unit}${downArrowIcon}</span>`;
                    } else {
                        return `<span class="font-semibold flex items-center justify-end">Cần tăng ${absDiff.toFixed(1)} ${unit}${upArrowIcon}</span>`;
                    }
                }
            }

            // Function to format the body age difference
            function formatBodyAge(diff) {
                if (diff === null || isNaN(diff)) return 'N/A';
                if (diff <= 0) {
                    return `<span class="text-green-600 font-semibold">Đạt chuẩn</span>`;
                }
                return `<span class="text-red-600 font-semibold flex items-center justify-end">Cần giảm ${diff} tuổi${downArrowIcon}</span>`;
            }

            form.addEventListener('submit', (event) => {
                event.preventDefault();

                // Get form values
                const menteeName = document.getElementById('menteeName').value;
                const mentorName = document.getElementById('mentorName').value;
                const age = parseFloat(document.getElementById('age').value);
                const height = parseFloat(document.getElementById('height').value);
                const weight = parseFloat(document.getElementById('weight').value);
                const fatPercentage = parseFloat(document.getElementById('fatPercentage').value);
                const visceralFat = parseFloat(document.getElementById('visceralFat').value);
                const musclePercentage = parseFloat(document.getElementById('musclePercentage').value);
                const bodyAge = parseFloat(document.getElementById('bodyAge').value);
                const bmiInput = parseFloat(document.getElementById('bmiInput').value);
                const bmrInput = parseFloat(document.getElementById('bmrInput').value);
                const gender = document.getElementById('gender').value;

                // Determine standard metrics based on gender and age
                let standards = standardMetrics.male;
                if (gender === 'female') {
                    standards = age >= 40 ? standardMetrics.femaleOld : standardMetrics.femaleYoung;
                }

                // Calculations
                let weightChange = null;
                if (height && weight) {
                    const heightInMeters = height / 100;
                    const targetWeight = standards.bmi * heightInMeters * heightInMeters;
                    weightChange = (weight - targetWeight).toFixed(1);
                }

                const bmiDiff = !isNaN(bmiInput) ? (bmiInput - standards.bmi) : null;
                const fatDiff = !isNaN(fatPercentage) ? (fatPercentage - standards.fat) : null;
                const visceralFatDiff = !isNaN(visceralFat) ? (visceralFat - standards.visceralFat) : null;
                const muscleDiff = !isNaN(musclePercentage) ? (standards.muscle - musclePercentage) : null;
                const bodyAgeDiff = !isNaN(bodyAge) && !isNaN(age) ? (bodyAge - age) : null;

                // Nutrition and Protein Calculations
                const nutritionPlans = document.getElementById('nutritionPlans');
                const proteinPlans = document.getElementById('proteinPlans');
                nutritionPlans.innerHTML = '';
                proteinPlans.innerHTML = '';

                if (!isNaN(bmrInput) && !isNaN(weight)) {
                    const dailyKcal500 = (bmrInput + 200).toFixed(0);
                    const dailyKcal1000 = (bmrInput - 300).toFixed(0);
                    nutritionPlans.innerHTML = `
                        <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                            <div class="text-sm text-gray-500">Giảm 500g/tuần</div>
                            <div class="text-2xl font-bold text-purple-600">${dailyKcal500} kcal/ngày</div>
                        </div>
                        <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                            <div class="text-sm text-gray-500">Giảm 1000g/tuần</div>
                            <div class="text-2xl font-bold text-purple-600">${dailyKcal1000} kcal/ngày</div>
                        </div>
                    `;

                    const totalProteinGrams = (weight * 1.2).toFixed(1);
                    const totalScoops = (totalProteinGrams / 8).toFixed(1);
                    const proteinFromBodykey = 2 * 17; // 2 packets, 17g protein per packet
                    const remainingProtein = totalProteinGrams - proteinFromBodykey;
                    const remainingScoops = (remainingProtein / 8).toFixed(1);
                    proteinPlans.innerHTML = `
                        <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                            <div class="text-sm text-gray-500">Tổng Protein cần nạp</div>
                            <div class="text-2xl font-bold text-purple-600">${totalProteinGrams} g/ngày</div>
                        </div>
                        <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                            <div class="text-sm text-gray-500">Số muỗng Protein tổng cộng</div>
                            <div class="text-2xl font-bold text-purple-600">${totalScoops} muỗng</div>
                        </div>
                        <div class="bg-white p-4 rounded-md shadow-sm flex flex-col sm:flex-row justify-between items-center">
                            <div class="text-sm text-gray-500">Số muỗng Protein còn lại</div>
                            <div class="text-xs text-gray-500">(Đã trừ 2 gói Bodykey)</div>
                            <div class="text-2xl font-bold text-purple-600">${remainingScoops} muỗng</div>
                        </div>
                    `;
                } else {
                    nutritionPlans.innerHTML = `<p class="text-gray-500 text-center">Vui lòng nhập BMR và Cân nặng để xem kế hoạch dinh dưỡng.</p>`;
                }

                // Display results
                document.getElementById('menteeResult').textContent = menteeName;
                document.getElementById('mentorResult').textContent = mentorName;
                document.getElementById('weightResult').textContent = isNaN(weight) ? 'N/A' : `${weight} kg`;
                document.getElementById('bmiResult').textContent = isNaN(bmiInput) ? 'N/A' : bmiInput;
                document.getElementById('fatPercentageResult').textContent = isNaN(fatPercentage) ? 'N/A' : `${fatPercentage}%`;
                document.getElementById('visceralFatResult').textContent = isNaN(visceralFat) ? 'N/A' : visceralFat;
                document.getElementById('musclePercentageResult').textContent = isNaN(musclePercentage) ? 'N/A' : `${musclePercentage}%`;
                document.getElementById('bodyAgeResult').textContent = isNaN(bodyAge) ? 'N/A' : `${bodyAge} tuổi`;

                document.getElementById('weightChangeResult').innerHTML = weightChange !== null ? (weightChange > 0 ? `<span class="font-semibold flex items-center justify-end text-red-600">Cần giảm ${Math.abs(weightChange)} kg${downArrowIcon}</span>` : weightChange < 0 ? `<span class="font-semibold flex items-center justify-end text-green-600">Cần tăng ${Math.abs(weightChange)} kg${upArrowIcon}</span>` : `<span class="text-gray-500">Đã đạt mục tiêu</span>`) : 'N/A';
                document.getElementById('bmiDiffResult').innerHTML = formatDiff(bmiDiff, '');
                document.getElementById('fatDiffResult').innerHTML = formatDiff(fatDiff, '%');
                document.getElementById('visceralFatDiffResult').innerHTML = formatDiff(visceralFatDiff, '');
                document.getElementById('muscleDiffResult').innerHTML = formatDiff(muscleDiff, '%', true);
                document.getElementById('bodyAgeDiffResult').innerHTML = formatBodyAge(bodyAgeDiff);
                
                resultsContainer.classList.remove('hidden');
                resultsContainer.style.opacity = '0';
                setTimeout(() => {
                    resultsContainer.style.opacity = '1';
                }, 10);
            });
        });
    </script>
</body>
</html>
